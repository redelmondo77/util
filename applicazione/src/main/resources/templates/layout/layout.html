<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"  xmlns:sec="http://www.thymeleaf.org/extras/spring-security" >
<head>

  <title>App</title>
  <link rel="stylesheet" type="text/css" 
  th:href="@{/webjars/bootstrap/css/bootstrap.min.css}"
  href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"/>
  <link rel="stylesheet" type="text/css" 
  th:href="@{/webjars/bootstrap/css/bootstrap-theme.min.css}"
  href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css"/>
  
  
  <link rel="stylesheet" th:href="@{/resources/css/graficaApplicazione.css}"/>
  
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <script th:src="@{/webjars/jquery/jquery.min.js}"
  src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"
  ></script>
  <script th:src="@{/webjars/jquery-ui/jquery-ui.min.js}"
  src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"
  ></script>
  <script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"
  src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"
  ></script>

</head>

<body>

<div class="container">

    <form name="logoutForm" th:action="@{/logout}" method="post"  th:hidden="true" >
            <input type="submit" value="Sign Out"/>
	</form>

<nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" th:href="@{/}">Applicazione</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li th:classappend="${#request.getRequestURI() == {#request.contextPath}+ '/'  ? 'active':''}">
              <a th:href="@{/}">
              <span class="glyphicon glyphicon-home"></span>
              <span>Home</span>
              </a></li>
              <li th:classappend="${#request.getRequestURI().startsWith( {#request.contextPath}+ '/about')  ? 'active':''}">
              <a th:href="@{/about}">
              <span class="glyphicon glyphicon-info-sign"></span>
              <span>About</span>
              
              </a></li>
              <li th:classappend="${#request.getRequestURI().startsWith( {#request.contextPath}+ '/contact')  ? 'active':''}">
              <a th:href="@{/contact}">
              <span class="glyphicon glyphicon-question-sign"></span>
              <span th:text="#{contact}" >Contact</span>

              </a></li>
              <li th:classappend="${#request.getRequestURI().startsWith( {#request.contextPath}+ '/personEsperimento')  ? 'active':''}">
              <a th:href="@{/esperimentoGroup/list}">
              <span class=" glyphicon glyphicon-list"></span>
              <span th:text="#{tests}" >Esperimenti</span>
              </a>
              </li>
              <li class="dropdown"  
              th:classappend="${
              ( #request.getRequestURI().startsWith( {#request.contextPath}+ '/internal') 
              or #request.getRequestURI().startsWith( {#request.contextPath}+ '/esperimento') 
              )
              ? 'active':''}"
              >
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" 
              aria-haspopup="true" aria-expanded="false">
              <span class="glyphicon glyphicon-tower"></span>
              <span th:text="#{administrator}" >Amministratore</span>
                
                <span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a th:href="@{/h2}">Database</a></li>
              	  <li><a th:href="@{/internalPersons/find}">Gestisci persone</a></li>
              	  <li><a th:href="@{/esperimentoGroup/find}">Gestisci esperimenti</a></li>
                </ul>
              </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li sec:authorize="isAuthenticated()" >
      			<a href="#">
      			<span class="glyphicon glyphicon-user"></span>
                <!-- <span>[[${#httpServletRequest.remoteUser}]]</span> -->
                <span th:text="${#request.remoteUser}" >alessandro</span>
                </a>
   			   </li>
               
               <li sec:authorize="isAuthenticated()" >
      			<a href="javascript:document.logoutForm.submit()">

      			<span class="glyphicon glyphicon-log-out"></span>
                <span>Logout</span>
      			</a>
   			   </li>
   			   
   			
   			   
   			   
   			  <li class="dropdown" >
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" 
              aria-haspopup="true" aria-expanded="false">
              <span class="glyphicon glyphicon-flag"></span>
              <span th:text="#{lang.change}">lingua</span>
                
                <span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a th:href="@{''(lang=it)}"  th:text="#{lang.it}">ita</a></li>
              	  <li><a th:href="@{''(lang=en)}"  th:text="#{lang.en}">eng</a></li>
                </ul>
              </li>
   			   
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>



<div layout:fragment="content"><h1>A placeholder for real content.</h1></div>


<script th:src="@{/resources/js/applicazione.js}"></script>


<footer class="footer">
        <p>&copy; 2016 Company, Inc.
</footer>

</div> <!-- /container -->

</body>
</html>