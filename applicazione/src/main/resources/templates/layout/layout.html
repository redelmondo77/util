<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"  xmlns:sec="http://www.thymeleaf.org/extras/spring-security" >

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Applicazione</title>
  
  <!-- 
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">	
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">		
   -->

  <link rel="stylesheet" th:href="@{/resources/css/fontawesome-5.1.0/css/all.css}"/>	
  
  <link rel="stylesheet" th:href="@{/resources/css/graficaApplicazione2.css}"/>
 
  
</head>

<body>







<nav class="navbar navbar-expand-lg navbar-light bg-light">
<div class="container-fluid">

<div class="navbar-header">
 <a class="navbar-brand" th:href="@{/}">Applicazione</a>
 <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
 </button>
</div>  

<div class="collapse navbar-collapse" id="navbarNavDropdown">

   <ul class="navbar-nav mr-auto">
              
              <li class="nav-item" th:classappend="${#request.getRequestURI() == {#request.contextPath}+ '/'  ? 'active':''}">
              <a class="nav-link" th:href="@{/}">
              <span class="fas fa-home"></span>
              <span>Home</span>
              </a></li>
              
              <li class="nav-item" th:classappend="${#request.getRequestURI().startsWith( {#request.contextPath}+ '/about')  ? 'active':''}">
              <a class="nav-link" th:href="@{/about}">
              <span class="fas fa-info"></span>
              <span>About</span>
              </a></li>
              
              <li class="nav-item" th:classappend="${#request.getRequestURI().startsWith( {#request.contextPath}+ '/contact')  ? 'active':''}">
              <a class="nav-link" th:href="@{/contact}">
              <span class="fas fa-question"></span>
              <span th:text="#{contact}" >Contact</span>
			  </a></li>
				
              <li class="nav-item" th:classappend="${#request.getRequestURI().startsWith( {#request.contextPath}+ '/personEsperimento')  ? 'active':''}">
              <a class="nav-link" th:href="@{/esperimentoGroup/list}">
              <span class=" fas fa-list"></span>
              <span th:text="#{tests}" >Esperimenti</span>
              </a>
              </li>
              
              <li class="nav-item dropdown"
              th:classappend="${
              ( #request.getRequestURI().startsWith( {#request.contextPath}+ '/internal') 
              or #request.getRequestURI().startsWith( {#request.contextPath}+ '/esperimento') 
              )
              ? 'active':''}"
              >
              
              <a href="#" class="nav-link dropdown-toggle" 
              data-toggle="dropdown" id="navbarDropdownMenuLink"
              aria-haspopup="true" aria-expanded="false">
             
              <span class="fas fa-toolbox"></span>
              <span th:text="#{administrator}" >Amministratore</span>
              </a>
                 <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item" th:href="@{/h2}">Database</a>
              	  <a class="dropdown-item" th:href="@{/internalPersons/find}">Gestisci persone</a>
              	  <a class="dropdown-item" th:href="@{/esperimentoGroup/find}">Gestisci esperimenti</a>
                 </div>
              </li>
              
    </ul>
           
    <ul class="navbar-nav">
            
               <li class="nav-item" sec:authorize="isAuthenticated()" >
      			<a class="nav-link" href="#">
      			<span class="fas fa-user"></span>
                <!-- <span>[[${#httpServletRequest.remoteUser}]]</span> -->
                <span th:text="${#request.remoteUser}" >alessandro</span>
                </a>
   			   </li>
               
               <li class="nav-item" sec:authorize="isAuthenticated()" >
      			<a class="nav-link" href="javascript:document.logoutForm.submit()">

      			<span class="fas fa-sign-out-alt"></span>
                <span>Logout</span>
      			</a>
   			   </li>
   			   
   			   <li class="nav-item dropdown" >
                
                <a href="#" class="nav-link dropdown-toggle" 
                 data-toggle="dropdown" id="navbarDropdownMenuLink2"
                 aria-haspopup="true" aria-expanded="false">
             
                <span class="fas fa-flag"></span>
                 <span th:text="#{lang.change}">lingua</span>
                </a>    
                  
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink2">
                  <a class="dropdown-item" th:href="@{''(lang=it)}"  th:text="#{lang.it}">ita</a>
              	  <a class="dropdown-item" th:href="@{''(lang=en)}"  th:text="#{lang.en}">eng</a>
                </div>
               </li>
              
   		   </ul>
   		   
</div>
</div>
</nav>

<div class="container">

<form name="logoutForm" th:action="@{/logout}" method="post"  th:hidden="true" ><input type="submit" value="Sign Out"/></form>

<div layout:fragment="content"><h1>A placeholder for real content.</h1></div>

</div>

<footer class="container-fluid text-center"><p>&copy; 2016 Company, Inc.</p></footer>
  <script th:src="@{/resources/js/applicazione.js}"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
</body>
</html>